(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{628:function(e,t,r){var o=r(9),a=r(629);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};o(a,n);e.exports=a.locals||{}},629:function(e,t,r){e.exports={"quick-match":"quick-match","quick-match__users":"quick-match__users","quick-match__users__user":"quick-match__users__user","quick-match__users__link":"quick-match__users__link","quick-match__users__user__img":"quick-match__users__user__img"}},630:function(e,t,r){var o=r(9),a=r(631);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};o(a,n);e.exports=a.locals||{}},631:function(e,t,r){e.exports={"quick-photos__conteiner":"quick-photos__conteiner","quick-photos__header":"quick-photos__header","quick-photos__left":"quick-photos__left","quick-photos__left__name":"quick-photos__left__name","quick-photos__left__parameters":"quick-photos__left__parameters","quick-photos__right":"quick-photos__right","quick-photos__right__button":"quick-photos__right__button","quick-photos__right__button__svg":"quick-photos__right__button__svg","quick-photos__photos":"quick-photos__photos","quick-photos__photo-slide":"quick-photos__photo-slide","quick-photos__photo":"quick-photos__photo","quick-photos__photos__no":"quick-photos__photos__no"}},636:function(e,t,r){"use strict";r.r(t);var o=r(0),a=r.n(o),n=r(12),s=r(3),c=r(10),i=r(1),u=r.n(i),l=r(14),h=r.n(l),p=r(15),_=r.n(p),m=r(97),f=r(64),d=r(310),k=r(16),g=(r(628),function(e){return a.a.createElement("section",{className:"quick-match"},a.a.createElement("ul",{className:"quick-match__users"},e.users.map((function(t){return a.a.createElement("li",{key:t.userId,className:"quick-match__users__user"},a.a.createElement("a",{className:"quick-match__users__link",onClick:function(){return e.userClick(t.id)}},a.a.createElement("img",{src:t.avatar,className:"quick-match__users__user__img"})))}))))});g.propTypes={t:u.a.func,users:u.a.array,userClick:u.a.func};var v=g,y=r(27),q=r.n(y),b=(r(51),r(630),function(e){var t,r={effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{el:".swiper-pagination"}};return a.a.createElement("section",{className:"quick-photos"},a.a.createElement("div",{className:"quick-photos__conteiner"},a.a.createElement("div",{className:"quick-photos__header"},a.a.createElement("div",{className:"quick-photos__left"},a.a.createElement("h3",{className:"quick-photos__left__name"},e.activeUser.name),a.a.createElement("h4",{className:"quick-photos__left__parameters"},(t=e.activeUser.birthday,Math.floor((Date.now()-new Date(t))/31536e6))," ",a.a.createElement(m.a,null,"MainPage.age")),a.a.createElement("h4",{className:"quick-photos__left__parameters"},e.activeUser.city||"",", ",e.activeUser.country||"")),a.a.createElement("div",{className:"quick-photos__right"},a.a.createElement("a",{className:"quick-photos__right__button",onClick:function(){return e.likeClick("like")}},a.a.createElement("svg",{className:"quick-photos__right__button__svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"}))),a.a.createElement("a",{className:"quick-photos__right__button",onClick:function(){return e.likeClick("decline")}},a.a.createElement("svg",{className:"quick-photos__right__button__svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"}))))),a.a.createElement("div",{className:"quick-photos__photos"},0===e.activeUser.photos.length?a.a.createElement("div",{className:"quick-photos__photos__no"},a.a.createElement(m.a,null,"quickMatch.nophotos")):a.a.createElement(q.a,r,e.activeUser.photos.map((function(e,t){return a.a.createElement("div",{className:"quick-photos__photo-slide",key:"photo-".concat(t)},a.a.createElement("img",{className:"quick-photos__photo",src:e}))}))))))});b.propTypes={activeUser:u.a.shape,likeClick:u.a.func};var E=b,w=r(7);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=D(e);if(t){var a=D(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){var t=e.getDate();t<10&&(t="0".concat(t));var r=e.getMonth()+1;r<10&&(r="0".concat(r));var o=e.getFullYear();return"".concat(o,"-").concat(r,"-").concat(t)},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,r,o,n=P(c);function c(){var e;S(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={isLoaded:!1,activeUser:{},activeMenu:"main",users:[],renderPhotos:!1},e.menuClick=function(t){return function(){e.setState({activeMenu:t})}},e.userClick=function(t){t!==e.state.activeUser.id&&e.setState((function(e){var r=e.users.findIndex((function(e){return e.id===t})),o=U(e.users),a=o[r];return o.splice(r,1),o.unshift(a),{activeUser:e.users[r],users:o,renderPhotos:!1}}))},e.likeClick=function(t){var r=U(e.state.users);r.shift(),0===r.length?e.setState({users:[]}):e.setState({users:r,activeUser:r[0],renderPhotos:!1});var o=e.props.user,a=o.userId,n=o.city,s=o.country,c=o.lookingfora,i=o.lookingforageless,u=o.lookingforagemore,l=new Date(Date.now()),p=new Date(Date.now());l.setFullYear(l.getFullYear()-u),p.setFullYear(p.getFullYear()-i);var m=j(l),f=j(p),d=e.props.coordinates,k={userId:a,city:n,country:s,lat:d.lat,lng:d.lng,lookingfora:c,from:m,to:f,language:e.props.lng.short,secondUser:e.state.activeUser.id,type:t,usersLength:e.state.users.length};h()({method:"post",url:"/community/quickmatchnext",headers:{Authorization:"Bearer ".concat(e.props.user.token)},data:_.a.stringify(k)}).then((function(t){""!==t.data.newUser&&(r.push(t.data.newUser),e.setState({users:r}))})).catch((function(t){e.props.addError(t.response.data.message)}))},e}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.user,r=t.userId,o=t.city,a=t.country,n=t.lookingfora,s=t.lookingforageless,c=t.lookingforagemore,i=new Date(Date.now()),u=new Date(Date.now());i.setFullYear(i.getFullYear()-c),u.setFullYear(u.getFullYear()-s);var l=j(i),p=j(u),m=this.props.coordinates,f={userId:r,city:o,country:a,lat:m.lat,lng:m.lng,lookingfora:n,from:l,to:p,language:this.props.lng.short};h()({method:"post",url:"/community/quickmatch",headers:{Authorization:"Bearer ".concat(this.props.user.token)},data:_.a.stringify(f)}).then((function(t){t.data.noUsers?e.setState({isLoaded:!0,users:[]}):e.setState({users:t.data.users,activeUser:t.data.users[0],isLoaded:!0,renderPhotos:!0})})).catch((function(t){e.props.addError(t.response.data.message)}))}},{key:"componentDidUpdate",value:function(e,t){t.activeUser.photos&&this.state.activeUser.photos[0]!==t.activeUser.photos[0]&&this.setState({renderPhotos:!0})}},{key:"render",value:function(){var e=a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{title:"quickMatch.title",subTittle:"quickMatch.mainTitle"}),this.state.users.length<1?a.a.createElement("section",{className:"error404"},a.a.createElement("h6",{className:"error404__title"},a.a.createElement(m.a,null,"quickMatch.error")),a.a.createElement("h5",{className:"error404__bottom"},a.a.createElement(m.a,null,"quickMatch.noUsers")),a.a.createElement(s.b,{exact:!0,to:"/",className:"error404__link"},a.a.createElement(m.a,null,"error.goToHomePage"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(v,{users:this.state.users,userClick:this.userClick}),this.state.renderPhotos||0===this.state.activeUser.photos.length?a.a.createElement(E,{activeUser:this.state.activeUser,likeClick:this.likeClick}):null,a.a.createElement(d.a,{user:this.state.activeUser,activeMenu:this.state.activeMenu,menuClick:this.menuClick,photoClick:this.photoClick,photoOpened:this.state.photoOpened,photoClose:this.photoClose,photoIndex:this.state.photoIndex,posts:this.state.posts,profile:!1,match:!0})));return this.state.isLoaded?e:a.a.createElement(k.a,null)}}])&&M(t.prototype,r),o&&M(t,o),c}(o.Component),F={addError:w.c,addChatParameters:w.a};I.propTypes={match:u.a.shape({params:u.a.shape({id:u.a.string})}),lng:u.a.shape({short:u.a.string}),user:u.a.shape({userId:u.a.string,token:u.a.string,city:u.a.string,country:u.a.number,lookingfora:u.a.string,lookingforageless:u.a.number,lookingforagemore:u.a.number}),coordinates:u.a.shape(),addError:u.a.func,addChatParameters:u.a.func,history:u.a.shape()};t.default=Object(c.f)(Object(n.b)((function(e){return{user:e.user,lng:e.lng,coordinates:e.coordinates}}),F)(I))}}]);
//# sourceMappingURL=7.bundle.js.map