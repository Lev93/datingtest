(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{306:function(t,e){t.exports={dropboxKey:"62ptafihkmeo1qt",dropboxSecret:"9jgd4oww25t8f0q",dropboxToken:"5Tz3hGL7LuAAAAAAAAAAEmdbcYqaSbMaWUkt7qM6PuOaNDhL4Qy3BttMBpBei_zd",domain:"http://localhost:3000"},t.exports={dropboxToken:"5Tz3hGL7LuAAAAAAAAAAHGSuaKRUJhSIE0oGjFr9UgkwZ4vye9DFeiMTkQyIkCwU"}},354:function(t,e){},355:function(t,e){},364:function(t,e){},365:function(t,e){},384:function(t,e){},386:function(t,e){},387:function(t,e){},390:function(t,e){},391:function(t,e){},396:function(t,e){},397:function(t,e){},404:function(t,e){},405:function(t,e){},411:function(t,e){},414:function(t,e){},606:function(t,e,n){var o=n(9),r=n(607);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var a={insert:"head",singleton:!1};o(r,a);t.exports=r.locals||{}},607:function(t,e,n){t.exports={"text-editor":"text-editor","text-editor__conteiner":"text-editor__conteiner","text-editor__button":"text-editor__button","text-editor__button__label":"text-editor__button__label","rdw-editor-main":"rdw-editor-main"}},638:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(12),i=n(10),c=n(14),u=n.n(c),s=n(15),l=n.n(s),p=n(1),f=n.n(p),g=n(64),h=n(276),y=n(514),m=n(515),b=n.n(m),d=n(311),v=n.n(d),_=n(350),w=n.n(_),E=n(97),S=n(214),C=(n(606),n(608),n(610),n(25)),x=n(306),k=n.n(x);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return B(this,n)}}function B(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(i,t);var e,n,o,a=T(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).onEditorStateChange=function(t){e.setState({editorState:t})},e.uploadImageCallBack=function(t){return new Promise((function(n,o){var r=new w.a.Dropbox({accessToken:k.a.dropboxToken});r.filesUpload({path:"/".concat(Date.now(),"=").concat(t.name),contents:t}).then((function(t){r.sharingCreateSharedLinkWithSettings({path:t.path_display}).then((function(t){var o=t.url.replace("dl=0","raw=1");e.props.changeImage(o),n({data:{link:o}})}))})).catch((function(t){o(t)}))}))},e.state={editorState:h.EditorState.createEmpty()},e.props.value){var n=v()(e.props.value);if(n){var o=h.ContentState.createFromBlockArray(n.contentBlocks),r=h.EditorState.createWithContent(o);e.state={editorState:r}}}return e}return e=i,(n=[{key:"render",value:function(){var t=this,e=this.state.editorState;return r.a.createElement("section",{className:"text-editor"},r.a.createElement("div",{className:"text-editor__conteiner"},r.a.createElement(y.Editor,{editorState:e,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange,toolbar:{image:{uploadCallback:this.uploadImageCallBack,alt:{present:!0,mandatory:!0},previewImage:!0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg"}}}),r.a.createElement("div",{className:"text-editor__button"},r.a.createElement("label",{htmlFor:"title",className:"text-editor__button__label"},r.a.createElement(E.a,null,"blogCreate.titleName")),r.a.createElement("input",{type:"text",className:"input__input",value:this.props.title,onChange:this.props.changeTitle}),r.a.createElement("label",{htmlFor:"category",className:"text-editor__button__label"},r.a.createElement(E.a,null,"blogCreate.category")),r.a.createElement("select",{id:"category",className:"input__select",value:this.props.category,onChange:this.props.changeCategory},r.a.createElement("option",{value:"dating"},this.props.t("blogs.types.dating")),r.a.createElement("option",{value:"news"},this.props.t("blogs.types.news")),r.a.createElement("option",{value:"success"},this.props.t("blogs.types.success")),r.a.createElement("option",{value:"recomendations"},this.props.t("blogs.types.recomendations"))),r.a.createElement(C.a,{classes:"redButton",type:"button",clicked:function(){return t.props.submitBlog(b()(Object(h.convertToRaw)(e.getCurrentContent())))}},"blogCreate.create"))))}}])&&A(e.prototype,n),o&&A(e,o),i}(o.Component);R.propTypes={submitBlog:f.a.func,value:f.a.string,t:f.a.func,category:f.a.string,changeCategory:f.a.func,title:f.a.string,changeTitle:f.a.func,changeImage:f.a.func};var I=Object(S.a)()(R),N=n(7);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=z(t);if(e){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return q(this,n)}}function q(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(i,t);var e,n,o,a=U(i);function i(){var t;F(this,i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=a.call.apply(a,[this].concat(n))).state={category:"dating",title:"",image:""},t.submitBlog=function(e){var n={userId:t.props.user.userId,html:e,image:t.state.image,title:t.state.title,category:t.state.category,lng:t.props.lng.short};u()({method:"post",url:"/blogs/create",headers:{Authorization:"Bearer ".concat(t.props.user.token)},data:l.a.stringify(n)}).then((function(e){"success"===e.data.message&&t.props.history.push("/blogs")})).catch((function(e){t.props.addError(e.response.data.message)}))},t.changeCategory=function(e){t.setState({category:e.target.value})},t.changeTitle=function(e){t.setState({title:e.target.value})},t.changeImage=function(e){""===t.state.image&&t.setState({image:e})},t}return e=i,(n=[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{title:"blogCreate.title",subTittle:"blogCreate.mainTitle"}),r.a.createElement(I,{submitBlog:this.submitBlog,category:this.state.category,changeCategory:this.changeCategory,title:this.state.title,changeTitle:this.changeTitle,changeImage:this.changeImage}))}}])&&L(e.prototype,n),o&&L(e,o),i}(o.Component),J={addError:N.c};G.propTypes={user:f.a.shape({userId:f.a.string,token:f.a.string}),lng:f.a.shape({short:f.a.string}),addError:f.a.func,history:f.a.shape()};e.default=Object(i.f)(Object(a.b)((function(t){return{user:t.user,lng:t.lng}}),J)(G))}}]);
//# sourceMappingURL=5.bundle.js.map